<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suspense Test</title>
  </head>

  <body>
    <h1>Test Suspense: {{ foo }}</h1>

    <!-- Block 1 -->

    {% block suspense1 %}
    <div>
      <h1>Suspense 1...</h1>
      <div>{{ test1 | default('loading...') }} | FALLBACK: {{ __fallback }}</div>
    </div>
    {%- endblock %}

    <!-- Block 2 -->

    {% block suspense2 %}
    <div>
      <h1>Suspense 2...</h1>
      <div>{{ test2 | default('loading...') }} | FALLBACK: {{ __fallback }}</div>
    </div>
    {%- endblock %}

    <!-- Block 3 -->

    {% block suspense3 %}
    <div>
      <h1>Suspense 3...</h1>
      <div>{{ test3 | default('loading...') }} | FALLBACK: {{ __fallback }}</div>
    </div>
    {%- endblock %}

    <!-- Block 4 -->

    {% block suspense4 %}
    <div>
      <h1>Suspense 4...</h1>
      <div>{{ test4 | default('loading...') }} | FALLBACK: {{ __fallback }}</div>
      {% block nested -%}
      <div>NESTED BLOCK: {{ nested | default('loading...') }} | FALLBACK: {{ __fallback }}</div>
      {%- endblock %}
    </div>
    {%- endblock %}
  </body>

</html>